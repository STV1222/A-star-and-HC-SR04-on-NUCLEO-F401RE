# A-star-and-HC-SR04-on-NUCLEO-F401RE

This project provides a robotic navigation system utilizing HC-SR04 ultrasonic sensors for obstacle detection and implementing the A-Star pathfinding algorithm for navigation. The system is designed for a robot equipped with sensors facing North, South, East, and West, to detect and navigate around obstacles. The program simulate the robot running from one position to another on the path generated by A-Star algorithm. 

## Features

- **Obstacle Detection**: Uses HC-SR04 ultrasonic sensors for real-time obstacle detection from multiple directions.
- **Dynamic Pathfinding**: Implements the A* search algorithm to dynamically find the shortest path while avoiding detected obstacles.
- **Expandable Obstacle Awareness**: Dynamically adds new obstacles to the map based on sensor detection and expands them based on the robot's size to enhance collision avoidance.
- **Directional Movement**: Calculates and adjusts the robot's path based on its current direction and the relative positions of obstacles.

## Hardware Requirements

- Microcontroller compatible with Mbed OS (STM32).
- Four HC-SR04 ultrasonic sensors.
- Basic electronics components such as jumpwires.
- Power supply or battery for the microcontroller and sensors.

## Software Dependencies

- Mbed OS
- Standard C/C++ libraries: `stdio.h`, `math.h`, `string.h`

## Setup

### Hardware Setup

1. Connect each HC-SR04 sensor to the microcontroller:
   - Front sensor to pins `PC_10` (trigger) and `PC_11` (echo).
   - Other sensors should be connected in a similar fashion, adjusting pins according to their placement directions.
2. Ensure the `InterruptIn` button is connected to pin `D4`.

### Software Setup

- Program the microcontroller with the provided code using Mbed CLI or an Mbed-compatible IDE.
- Configure `MAX_ROWS`, `MAX_COLS` to match the dimensions of the operational area.

## Usage

- Power up the system. The robot will initialize and start in the obstacle-free pathfinding mode.
- Obstacles are added and expanded dynamically as they are detected by the sensors.
- The path recalculates whenever a new obstacle is added or an existing one is updated.

## Documentation

- **`initObstacles()`**: Initializes predefined static obstacles.
- **`expandObstacles()`**: Expands obstacles to account for the robot's clearance requirements.
- **`aStarSearch()`**: Executes the A* algorithm to compute the path from start to goal.
- **`obstacleDetect()`**: Detects obstacles in real-time and updates the map accordingly.
- **`runThePath()`**: Main function to handle path execution and dynamic obstacle avoidance.

## Contributing

Contributions to improve the functionality or efficiency of the navigation system are welcome. Please ensure to test any changes locally before submitting a pull request.
